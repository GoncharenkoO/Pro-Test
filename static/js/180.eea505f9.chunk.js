"use strict";(self.webpackChunkpro_test=self.webpackChunkpro_test||[]).push([[180],{8180:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var s=n(907);var r=n(181);function i(t){return function(t){if(Array.isArray(t))return(0,s.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,r.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(885),o=n(2791),l=n(6871),u=n(2978),_=n(2178),c=n(6938),d=n(2329),v="question_answers__Lq-cx",m="question_answers_title__bAbj9",f="question_answers_title_size_small__2MBdh",g="question_answers_title_size_medium__vzKiD",h="question_answers_title_size_large__5pZ+X",x="question_answers_form__U5sHD",b="question_answers_form_label__yDpWr",p="question_answers_form_radio__8+ft7",w=n(3329),j=function(t){var e=t.question,n=e.question,s=e.answers,r=e.questionId,i=t.onChange,a=t.selectedAnswers,o=s.map((function(t,e){return(0,w.jsxs)("label",{className:b,children:[(0,w.jsx)("input",{className:p,id:r,type:"radio",name:"answers",value:t,required:!1,onChange:i,checked:Boolean(a.find((function(e){return(null===e||void 0===e?void 0:e.answer)===t&&String(null===e||void 0===e?void 0:e.questionId)===String(r)})))}),t]},e)})),l=(null===n||void 0===n?void 0:n.length)<30&&h||(null===n||void 0===n?void 0:n.length)<60&&g||f;return(0,w.jsxs)("div",{className:v,children:[(0,w.jsx)("p",{className:"".concat(m," ").concat(l),children:n}),(0,w.jsx)("div",{className:x,name:"answer_form",children:o})]})},q=j;j.defaultProps={answers:[]};var y=n(4665),N={root:"test_root__tUaKL",container:"test_container__eVPM-",test:"test_test__DhsX4",test_title:"test_test_title__HYL9Z",test_title_btn:"test_test_title_btn__6QQ9B",test_curent:"test_test_curent__Pf9Eh",test_question:"test_test_question__OnMMc",test_question_title:"test_test_question_title__nn6z2",test_navigate:"test_test_navigate__5H738",test_navigate_btn_prev:"test_test_navigate_btn_prev__aCKFI",test_navigate_btn_next:"test_test_navigate_btn_next__GZ+88"},S=["tech","theory"],I=function(){var t,e,n=(0,u.v9)(_.Bl,u.wU),s=(0,o.useState)({items:[],loading:!0,error:null}),r=(0,a.Z)(s,2),v=r[0],m=r[1],f=(0,o.useState)([]),g=(0,a.Z)(f,2),h=g[0],x=g[1],b=(0,o.useState)(0),p=(0,a.Z)(b,2),j=p[0],I=p[1],A=(0,u.I0)(),Z=(0,l.s0)();if((0,o.useEffect)((function(){var t=localStorage.getItem("questions");if(t&&JSON.parse(t).length){var e,s,r;m({items:JSON.parse(t),loading:!1,error:null});var i=null!==(e=JSON.parse(localStorage.getItem("testAnswers")))&&void 0!==e?e:{answers:[],currentQuestion:0};x(null!==(s=i.answers)&&void 0!==s?s:[]),I(null!==(r=i.currentQuestion)&&void 0!==r?r:0)}else!n||A(c.e.getTest(n)).then((function(t){var e=t.payload;m({items:e.data,loading:!1,error:null}),localStorage.setItem("questions",JSON.stringify(e.data)),localStorage.removeItem("testAnswers")})).catch((function(t){return m({items:[],loading:!1,error:t})}))}),[A,n]),!S.includes(n))return(0,w.jsx)(l.Fg,{to:"/"});var T=function(){var t;return localStorage.removeItem("testAnswers"),localStorage.removeItem("questions"),(null===(t=v.items)||void 0===t?void 0:t.length)===(null===h||void 0===h?void 0:h.length)?(A(c.e.getResults({answers:h,type:n})).then((function(t){return t})),Z("/results")):Z("/")};if(null===(t=v.items)||void 0===t||!t.length)return(0,w.jsxs)("main",{children:[(0,w.jsxs)("div",{className:"{styles.test} container",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{children:"[Testing "+n+"]"}),(0,w.jsx)(d.Z,{btnText:"Finish Test",type:"button",isActive:!0,onClickBtn:T,className:N.test_title_btn})]}),!v.loading&&(0,w.jsx)("p",{className:N.error,children:"Sorry, couldn't get questions."})]}),v.loading&&(0,w.jsx)(y.Z,{})]});return(0,w.jsxs)("main",{children:[(0,w.jsxs)("div",{className:N.test,children:[(0,w.jsxs)("div",{className:N.test_title,children:[(0,w.jsxs)("h2",{children:["[Testing",(0,w.jsx)("br",{}),n,"_]"]}),(0,w.jsx)(d.Z,{btnText:"Finish Test",type:"button",isActive:!0,onClickBtn:T,className:N.test_title_btn})]}),Boolean(null===(e=v.items)||void 0===e?void 0:e.length)&&(0,w.jsxs)("div",{className:N.test_question,children:[(0,w.jsxs)("p",{className:N.test_question_title,children:["Question"," ",(0,w.jsx)("span",{className:N.test_curent,children:j+1})," /"," ",v.items.length," "]}),(0,w.jsx)(q,{question:v.items[j],onChange:function(t){var e=t.target,n=e.id,s=e.value,r=h.findIndex((function(t){return String(t.questionId)===String(n)}));x((function(t){if(-1===r){var e=[].concat(i(t),[{questionId:Number(n),answer:s}]);return localStorage.setItem("testAnswers",JSON.stringify({answers:e,currentQuestion:j})),e}var a=i(t);return a[r]={questionId:n,answer:s},localStorage.setItem("testAnswers",JSON.stringify({answers:a,currentQuestion:j})),console.log(a),a}))},selectedAnswers:h})]}),(0,w.jsxs)("div",{className:N.test_navigate,children:[(0,w.jsx)(d.Z,{btnText:"",type:"button",isActive:!0,onClickBtn:function(){I((function(t){return t>0?t-1:t}))},className:N.test_navigate_btn_prev}),(0,w.jsx)(d.Z,{btnText:"",type:"button",isActive:!0,onClickBtn:function(){I((function(t){return t<v.items.length-1?t+1:t}))},className:N.test_navigate_btn_next})]})]}),v.loading&&(0,w.jsx)(y.Z,{})]})},A=function(){return(0,w.jsx)(I,{})}},2178:function(t,e,n){n.d(e,{Bl:function(){return s},P7:function(){return r}});var s=function(t){return t.testType.testType},r=function(t){return t.qaTests.testResult}},2329:function(t,e,n){var s=n(3329);e.Z=function(t){var e=t.onClickBtn,n=t.btnText,r=t.type,i=t.className;return(0,s.jsx)("button",{className:i,type:r,onClick:e,children:n})}}}]);
//# sourceMappingURL=180.eea505f9.chunk.js.map